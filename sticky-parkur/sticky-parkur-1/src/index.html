<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky Parkur</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Sticky Parkur</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    
    <button class="fullscreen-btn" onclick="toggleFullscreen()">🖥️ Tam Ekran</button>
    
    <div id="menuOverlay" class="menu-overlay">
        <div class="menu-panel" id="mainMenuPanel">
            <h2>Sticky Parkur</h2>
            <div style="margin-bottom:12px; color: #fff; font-weight: bold; display:flex; gap:18px; justify-content:center;">
                <div>P1 Para: <span id="menuP1Coins">0</span></div>
                <div>P2 Para: <span id="menuP2Coins">0</span></div>
            </div>
            <div class="menu-icon-row">
                <div class="icon-wrap">
                    <button class="icon-btn" onclick="openHowTo()">?</button>
                    <div class="icon-label">Nasıl Oynanır</div>
                </div>
                <button class="play-btn" onclick="startFromMenu()" aria-label="Oyunu Başlat">
                    <svg class="play-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#16a34a"/>
                                <stop offset="100%" stop-color="#22c55e"/>
                            </linearGradient>
                        </defs>
                        <rect x="10" y="10" rx="28" ry="28" width="180" height="180" fill="url(#g)" stroke="#facc15" stroke-width="10"/>
                        <polygon points="85,65 85,135 140,100" fill="#fff"/>
                    </svg>
                </button>
                <div class="icon-wrap">
                    <button class="icon-btn" onclick="openSettings()">⚙️</button>
                    <div class="icon-label">Ayarlar</div>
                </div>
                <div class="icon-wrap">
                    <button class="icon-btn" onclick="openCharacters()">👤</button>
                    <div class="icon-label">Karakterler</div>
                </div>
            </div>
            <div class="sound-embed" style="display:none;">
                <iframe id="scPlayer" allow="autoplay" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/relaxedpianomusic/quietness-stress-relief-music%3Fin%3Drelaxedpianomusic/sets/calm-music-guru-peaceful-piano%26si%3D8f99985c5f234e62a6dcb08780502172%26utm_source%3Dclipboard%26utm_medium%3Dtext%26utm_campaign%3Dsocial_sharing&color=%23facc15&auto_play=true&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&visual=false"></iframe>
            </div>
        </div>

        <div class="subpanel" id="howToPanel">
            <h3>Nasıl Oynanır</h3>
            <p><strong>Karakter 1 (Mavi - Abdulrezzak)</strong>: A/D (hareket), W (zıplama), E (kol uzatma)</p>
            <p><strong>Karakter 2 (Kırmızı - Mahmut Abi)</strong>: Sol/Sağ ok (hareket), Yukarı ok (zıplama). Güçlü tekme: L</p>
            <div class="actions">
                <button class="menu-btn" onclick="backToMenu()">⬅️ Geri</button>
                <button class="menu-btn" onclick="startFromMenu()">🎮 Başlat</button>
            </div>
        </div>

        <div class="subpanel" id="settingsPanel">
            <h3>Ayarlar</h3>
            <div class="row">
                <div>
                    <label for="startLevel">Başlangıç Bölümü</label>
                    <input id="startLevel" type="number" min="1" max="15" value="1" />
                </div>
                <div>
                    <label for="startFullscreen">Tam ekranda başla</label>
                    <select id="startFullscreen">
                        <option value="no">Hayır</option>
                        <option value="yes">Evet</option>
                    </select>
                </div>
                <div style="min-width:220px;">
                    <label for="volumePercent">Ses seviyesi</label>
                    <input id="volumePercent" type="range" min="0" max="100" value="60" />
                    <span id="volumeValue" style="margin-left:6px;">60%</span>
                </div>
            </div>
            <div class="actions">
                <button class="menu-btn" onclick="saveSettings()">💾 Kaydet</button>
                <button class="menu-btn" onclick="backToMenu()">⬅️ Geri</button>
            </div>
        </div>

        <div class="subpanel" id="charactersPanel">
            <h3>Karakterler ve Mağaza</h3>
            <div class="row" style="justify-content: space-between; align-items: center;">
                <div>
                    <p><strong>Oyuncu 1 Para:</strong> <span id="p1Coins">0</span></p>
                    <p><strong>Seçili:</strong> <span id="p1Selection">Abdulrezzak</span></p>
                </div>
                <div>
                    <p><strong>Oyuncu 2 Para:</strong> <span id="p2Coins">0</span></p>
                    <p><strong>Seçili:</strong> <span id="p2Selection">Mahmut Abi</span></p>
                </div>
            </div>
            <div class="row" style="align-items: stretch;">
                <div id="charactersList" style="flex:1; min-width:260px;"></div>
                <div id="characterDetail" style="flex:1; min-width:260px; background: rgba(0,0,0,0.25); border-radius: 10px; padding: 12px;">
                    <h4 id="charName">Seçili Karakter</h4>
                    <div id="charColor" style="width: 60px; height: 60px; border-radius: 50%; margin-bottom: 8px; border: 3px solid #fff;"></div>
                    <p id="charPrice">Fiyat: 0</p>
                    <div class="actions">
                        <button class="menu-btn" id="btnP1Action">P1</button>
                        <button class="menu-btn" id="btnP2Action">P2</button>
                    </div>
                </div>
            </div>
            <div class="actions">
                <button class="menu-btn" onclick="backToMenu()">⬅️ Geri</button>
                <button class="menu-btn" onclick="startFromMenu()">🎮 Başlat</button>
            </div>
        </div>

        <div class="subpanel" id="adminPanel" style="display:none;">
            <h3>Admin Paneli</h3>
            <p>Admin paneline hoş geldiniz!</p>
            <div class="actions">
                <button class="menu-btn" onclick="backToMenu()">⬅️ Geri</button>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <h3>Kontroller:</h3>
            <p><strong>Karakter 1:</strong> A/D (hareket), W (zıplama), E (kol uzatma)</p>
            <p><strong>Karakter 2:</strong> Sol/Sağ ok tuşları (hareket), Yukarı ok (zıplama)</p>
    </div>

    <script src="js/game.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/store.js"></script>
    <script src="js/utils.js"></script>
    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const input = prompt("Admin girişi için şifreyi girin:");
            if (input === "3141") {
                document.getElementById('adminPanel').style.display = 'block';
            }
        });

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log('Fullscreen hatası:', err);
                });
            } else {
                document.exitFullscreen();
            }
        }

        // Diğer fonksiyonlar ve olay dinleyicileri burada...
    </script>
</body>
</html>